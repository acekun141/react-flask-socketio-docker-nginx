{"ast":null,"code":"import { SIGN, GET_USER, LOGOUT } from './actionTypes';\nexport const sign = data => async dispatch => {\n  try {\n    const response = await fetch('/auth/sign', {\n      method: 'POST',\n      cache: 'no-cache',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    });\n\n    if (response.status !== 200) {\n      throw 'Error';\n    } else {\n      const data = await response.json();\n\n      if (data.token) {\n        return dispatch({\n          type: SIGN,\n          payload: data.token\n        });\n      } else {\n        throw 'Error';\n      }\n    }\n  } catch (error) {\n    alert('Cannot login! Try later');\n  }\n};\nexport const get_user = () => dispatch => {\n  return dispatch({\n    type: GET_USER\n  });\n};\nexport const log_out = () => dispatch => {\n  return dispatch({\n    type: LOGOUT\n  });\n};","map":{"version":3,"sources":["/home/ace/Documents/Project/privatechat/src/redux/reducer/user/actions.js"],"names":["SIGN","GET_USER","LOGOUT","sign","data","dispatch","response","fetch","method","cache","headers","body","JSON","stringify","status","json","token","type","payload","error","alert","get_user","log_out"],"mappings":"AAAA,SAAQA,IAAR,EAAcC,QAAd,EAAwBC,MAAxB,QAAqC,eAArC;AAEA,OAAO,MAAMC,IAAI,GAAIC,IAAD,IAAU,MAAOC,QAAP,IAAoB;AAC9C,MAAI;AACA,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,YAAD,EACxB;AACIC,MAAAA,MAAM,EAAE,MADZ;AAEIC,MAAAA,KAAK,EAAE,UAFX;AAGIC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAHb;AAMIC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeT,IAAf;AANV,KADwB,CAA5B;;AAUA,QAAIE,QAAQ,CAACQ,MAAT,KAAoB,GAAxB,EAA6B;AACzB,YAAM,OAAN;AACH,KAFD,MAEO;AACH,YAAMV,IAAI,GAAG,MAAME,QAAQ,CAACS,IAAT,EAAnB;;AACA,UAAIX,IAAI,CAACY,KAAT,EAAgB;AACZ,eAAOX,QAAQ,CAAC;AACZY,UAAAA,IAAI,EAAEjB,IADM;AAEZkB,UAAAA,OAAO,EAAEd,IAAI,CAACY;AAFF,SAAD,CAAf;AAIH,OALD,MAKO;AACH,cAAM,OAAN;AACH;AACJ;AACJ,GAxBD,CAwBE,OAAMG,KAAN,EAAa;AACXC,IAAAA,KAAK,CAAC,yBAAD,CAAL;AACH;AACJ,CA5BM;AA8BP,OAAO,MAAMC,QAAQ,GAAG,MAAOhB,QAAD,IAAc;AACxC,SAAOA,QAAQ,CAAC;AACZY,IAAAA,IAAI,EAAEhB;AADM,GAAD,CAAf;AAGH,CAJM;AAMP,OAAO,MAAMqB,OAAO,GAAG,MAAOjB,QAAD,IAAc;AACvC,SAAOA,QAAQ,CAAC;AACZY,IAAAA,IAAI,EAAEf;AADM,GAAD,CAAf;AAGH,CAJM","sourcesContent":["import {SIGN, GET_USER, LOGOUT} from './actionTypes';\n\nexport const sign = (data) => async (dispatch) => {\n    try {\n        const response = await fetch('/auth/sign',\n            {\n                method: 'POST',\n                cache: 'no-cache',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(data)\n            }\n        );\n        if (response.status !== 200) {\n            throw('Error');\n        } else {\n            const data = await response.json();\n            if (data.token) {\n                return dispatch({\n                    type: SIGN,\n                    payload: data.token\n                });\n            } else {\n                throw('Error');\n            }\n        }\n    } catch(error) {\n        alert('Cannot login! Try later');\n    }\n};\n\nexport const get_user = () => (dispatch) => {\n    return dispatch({\n        type: GET_USER\n    });\n};\n\nexport const log_out = () => (dispatch) => {\n    return dispatch({\n        type: LOGOUT\n    })\n}"]},"metadata":{},"sourceType":"module"}