{"ast":null,"code":"import { SIGN, GET_USER, LOGOUT } from './actionTypes';\nimport { Base64 } from 'js-base64';\nconst initialState = {};\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case SIGN:\n      try {\n        localStorage.setItem('token', action.payload);\n        const user_token = action.payload.split('.')[1];\n        const user_data = JSON.parse(Base64.decode(user_token));\n        return user_data;\n      } catch (error) {\n        alert('Cannot login!Try later!');\n        return state;\n      }\n\n    case GET_USER:\n      try {\n        const token = localStorage.getItem('token');\n        const user_data_encode = token.split('.')[1];\n        const user_data_decode = JSON.parse(Base64.decode(user_data_encode));\n        return user_data_decode;\n      } catch (error) {\n        localStorage.clear();\n        return state;\n      }\n\n    case LOGOUT:\n      localStorage.clear();\n      return initialState;\n\n    default:\n      return state;\n  }\n}\n;","map":{"version":3,"sources":["/home/ace/Documents/Project/privatechat/src/redux/reducer/user/reducer.js"],"names":["SIGN","GET_USER","LOGOUT","Base64","initialState","state","action","type","localStorage","setItem","payload","user_token","split","user_data","JSON","parse","decode","error","alert","token","getItem","user_data_encode","user_data_decode","clear"],"mappings":"AAAA,SAAQA,IAAR,EAAcC,QAAd,EAAwBC,MAAxB,QAAqC,eAArC;AACA,SAAQC,MAAR,QAAqB,WAArB;AAEA,MAAMC,YAAY,GAAG,EAArB;AAEA,eAAe,UAASC,KAAK,GAACD,YAAf,EAA6BE,MAA7B,EAAqC;AAChD,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKP,IAAL;AACI,UAAI;AACAQ,QAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BH,MAAM,CAACI,OAArC;AACA,cAAMC,UAAU,GAAGL,MAAM,CAACI,OAAP,CAAeE,KAAf,CAAqB,GAArB,EAA0B,CAA1B,CAAnB;AACA,cAAMC,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWZ,MAAM,CAACa,MAAP,CAAcL,UAAd,CAAX,CAAlB;AACA,eAAOE,SAAP;AACH,OALD,CAKC,OAAMI,KAAN,EAAa;AACVC,QAAAA,KAAK,CAAC,yBAAD,CAAL;AACA,eAAOb,KAAP;AACH;;AACL,SAAKJ,QAAL;AACI,UAAI;AACA,cAAMkB,KAAK,GAAGX,YAAY,CAACY,OAAb,CAAqB,OAArB,CAAd;AACA,cAAMC,gBAAgB,GAAGF,KAAK,CAACP,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAzB;AACA,cAAMU,gBAAgB,GAAGR,IAAI,CAACC,KAAL,CAAWZ,MAAM,CAACa,MAAP,CAAcK,gBAAd,CAAX,CAAzB;AACA,eAAOC,gBAAP;AACH,OALD,CAKC,OAAML,KAAN,EAAa;AACVT,QAAAA,YAAY,CAACe,KAAb;AACA,eAAOlB,KAAP;AACH;;AACL,SAAKH,MAAL;AACIM,MAAAA,YAAY,CAACe,KAAb;AACA,aAAOnB,YAAP;;AACJ;AACI,aAAOC,KAAP;AAzBR;AA2BH;AAAA","sourcesContent":["import {SIGN, GET_USER, LOGOUT} from './actionTypes';\nimport {Base64} from 'js-base64';\n\nconst initialState = {}\n\nexport default function(state=initialState, action) {\n    switch (action.type) {\n        case SIGN:\n            try {\n                localStorage.setItem('token', action.payload);\n                const user_token = action.payload.split('.')[1];\n                const user_data = JSON.parse(Base64.decode(user_token));\n                return user_data\n            }catch(error) {\n                alert('Cannot login!Try later!');\n                return state;\n            }\n        case GET_USER:\n            try {\n                const token = localStorage.getItem('token');\n                const user_data_encode = token.split('.')[1];\n                const user_data_decode = JSON.parse(Base64.decode(user_data_encode));\n                return user_data_decode;\n            }catch(error) {\n                localStorage.clear();\n                return state;\n            }\n        case LOGOUT:\n            localStorage.clear();\n            return initialState;\n        default:\n            return state;\n    }\n};"]},"metadata":{},"sourceType":"module"}